class DifficultyScaler:
    """
    Η κλάση DifficultyScaler είναι υπεύθυνη για ΟΛΗ
    τη λογική κλιμάκωσης της δυσκολίας του παιχνιδιού.

    Για κάθε πίστα (level) υπολογίζει:
    - πόσα διαμάντια υπάρχουν
    - πόσα σακιά χρυσού υπάρχουν
    - πόσοι εχθροί θα εμφανιστούν
    - πόσο γρήγορα κινούνται οι εχθροί
    - αν υπάρχει επόμενη πίστα

    Με αυτόν τον τρόπο:
    - η δυσκολία είναι συγκεντρωμένη σε ΕΝΑ σημείο
    - το υπόλοιπο παιχνίδι παραμένει καθαρό και απλό
    """

    # Μέγιστος αριθμός πιστών που υποστηρίζει το παιχνίδι
    MAX_LEVEL = 20

    # =========================
    # Διαμάντια (Emeralds)
    # =========================
    def diamonds_for_level(self, level: int) -> int:
        """
        Υπολογίζει πόσα διαμάντια περιέχει η πίστα.

        Κανόνας:
        - Στην πίστα 1 υπάρχουν 40 διαμάντια
        - Σε κάθε επόμενη πίστα προστίθενται +10

        level : ο αριθμός της πίστας
        επιστρέφει : πλήθος διαμαντιών
        """

        # Βασικός αριθμός διαμαντιών
        # +10 για κάθε πίστα μετά την πρώτη
        return 40 + (level - 1) * 10

    # =========================
    # Σακιά χρυσού
    # =========================
    def gold_bags_for_level(self, level: int) -> int:
        """
        Υπολογίζει πόσα σακιά χρυσού υπάρχουν στην πίστα.

        Κανόνας:
        - Στην πίστα 1 υπάρχουν 5 σακιά
        - Σε κάθε επόμενη πίστα προστίθενται +2

        level : ο αριθμός της πίστας
        επιστρέφει : πλήθος σακιών
        """

        # Ήπια αύξηση για να μη γίνεται το παιχνίδι άδικο
        return 5 + (level - 1) * 2

    # =========================
    # Σύνολο εχθρών
    # =========================
    def enemies_for_level(self, level: int) -> int:
        """
        Υπολογίζει το συνολικό πλήθος εχθρών της πίστας.

        Κανόνας:
        - Στην πίστα 1 υπάρχουν 6 εχθροί
        - Σε κάθε επόμενη πίστα προστίθενται +2
        - Οι εχθροί δεν εμφανίζονται όλοι μαζί,
          αλλά σταδιακά (spawn over time)

        level : ο αριθμός της πίστας
        επιστρέφει : συνολικό πλήθος εχθρών
        """

        return 6 + (level - 1) * 2

    # =========================
    # Ταχύτητα εχθρών
    # (μέσω delay κίνησης)
    # =========================
    def enemy_move_delay(self, level: int) -> float:
        """
        Υπολογίζει το delay μεταξύ δύο κινήσεων εχθρού.

        Σημαντικό:
        - Μικρότερο delay σημαίνει πιο γρήγοροι εχθροί
        - Η ταχύτητα αυξάνεται προοδευτικά
        - Υπάρχει κατώτατο όριο για λόγους ισορροπίας

        level : ο αριθμός της πίστας
        επιστρέφει : delay σε δευτερόλεπτα
        """

        # Αρχικό delay στην πίστα 1
        base_delay = 0.45

        # Μείωση delay ανά πίστα
        reduction = (level - 1) * 0.015

        # Δεν επιτρέπουμε να πέσει κάτω από 0.18
        # για να μην γίνει το παιχνίδι non playable
        return max(0.18, base_delay - reduction)

    # =========================
    # Υπάρχει επόμενη πίστα;
    # =========================
    def has_next_level(self, level: int) -> bool:
        """
        Ελέγχει αν υπάρχει επόμενη πίστα.

        level : τρέχουσα πίστα
        επιστρέφει :
        - True  αν υπάρχει επόμενη
        - False αν έχουμε φτάσει στο MAX_LEVEL
        """

        return level < self.MAX_LEVEL
