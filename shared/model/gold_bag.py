from shared.model.entity import Entity
# Εισαγωγή της βασικής κλάσης Entity.
# (Ακόμα κι αν δεν χρησιμοποιείται άμεσα εδώ, δείχνει ότι
# το GoldBag ανήκει στο ίδιο εννοιολογικό μοντέλο οντοτήτων του παιχνιδιού.)


class GoldBag:
    """
    Κλάση που αναπαριστά έναν σάκο χρυσού (gold bag) στο παιχνίδι.

    Ο σάκος:
    - ξεκινά ως σταθερό αντικείμενο
    - μπορεί να πέσει κατακόρυφα
    - μπορεί να μετατραπεί σε χρυσό (gold pile)
    - μπορεί να συλλεχθεί από παίκτη ή εχθρό
    """

    def __init__(self, bag_id: str, tile_x: int, tile_y: int):
        # Μοναδικό αναγνωριστικό του σάκου
        # Χρησιμοποιείται από συστήματα (π.χ. timers πτώσης)
        self.id = bag_id

        # Θέση του σάκου στο grid του επιπέδου (σε tiles)
        self.tile_x = tile_x
        self.tile_y = tile_y

        # Αποθηκεύει την προηγούμενη κατακόρυφη θέση του σάκου
        # Χρησιμοποιείται για να ελεγχθεί αν ο σάκος
        # διέσχισε κάποιον εχθρό κατά την πτώση του
        self.prev_tile_y = tile_y

        # Δηλώνει αν ο σάκος βρίσκεται σε κατάσταση πτώσης
        # True  -> πέφτει
        # False -> είναι σταθερός
        self.falling = False

        # Δηλώνει αν ο σάκος έχει "σπάσει" και έχει μετατραπεί σε χρυσό
        # False -> κανονικός σάκος
        # True  -> gold pile (δίνει πόντους)
        self.is_gold = False

        # Δηλώνει αν ο σάκος έχει συλλεχθεί
        # Όταν γίνει True, ο σάκος δεν αλληλεπιδρά πλέον με το παιχνίδι
        self.collected = False
